/*
THIS IS A GENERATED/BUNDLED FILE BY ROLLUP
if you want to view the source visit the plugins github repository
*/

'use strict';

var obsidian = require('obsidian');

/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */

function __awaiter(thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
}

/*
    Privacy Glasses plugin for Obsidian
    Copyright 2021 Jill Alberts
    Licensed under the MIT License (http://opensource.org/licenses/MIT)
*/
class StatusBar {
    constructor(statusBarEl) {
        this.statusBarEl = statusBarEl;
    }
    displayText(text) {
        this.statusBarEl.setText(text);
    }
}
class PrivacyGlassesPlugin extends obsidian.Plugin {
    onload() {
        return __awaiter(this, void 0, void 0, function* () {
            this.statusBar = new StatusBar(this.addStatusBarItem());
            this.statusBar.displayText('Privacy Glasses Off');
            yield this.loadSettings();
            this.addSettingTab(new privacyGlassesSettingTab(this.app, this));
            obsidian.addIcon('glasses', privacyGlassesIcon);
            this.addRibbonIcon('glasses', 'Toggle Privacy Glasses', () => {
                this.toggleGlasses();
            });
            this.addCommand({
                id: 'toggle-privacy-glasses',
                name: 'Toggle Privacy Glasses',
                callback: () => {
                    this.toggleGlasses();
                }
            });
            yield this.refresh(false);
        });
    }
    toggleGlasses() {
        return __awaiter(this, void 0, void 0, function* () {
            this.settings.privacyGlasses = !this.settings.privacyGlasses;
            this.statusBar.displayText(this.settings.privacyGlasses ? 'Privacy Glasses ON' : 'Privacy Glasses Off');
            this.noticeMsg = new obsidian.Notice(this.settings.privacyGlasses ? 'Privacy Glasses On' : 'Privacy Glasses Off', 2000);
            this.refresh(false);
        });
    }
    refresh(saveIt) {
        return __awaiter(this, void 0, void 0, function* () {
            this.updateStyle();
            if (saveIt) {
                yield this.saveSettings();
            }
        });
    }
    onunload() {
        return __awaiter(this, void 0, void 0, function* () {
            yield this.saveSettings();
            this.removeStyle();
        });
    }
    loadSettings() {
        return __awaiter(this, void 0, void 0, function* () {
            this.settings = Object.assign(DEFAULT_SETTINGS, yield this.loadData());
        });
    }
    saveSettings() {
        return __awaiter(this, void 0, void 0, function* () {
            yield this.saveData(this.settings);
        });
    }
    updateStyle() {
        return __awaiter(this, void 0, void 0, function* () {
            yield this.removeStyle();
            var blurLevelStyleEl = document.createElement('style');
            blurLevelStyleEl.id = 'privacyGlassesBlurLevel';
            document.head.appendChild(blurLevelStyleEl);
            var css = `body {--blurLevel:${this.settings.blurLevel}em};`;
            blurLevelStyleEl.appendChild(document.createTextNode(css));
            if (this.settings.privacyGlasses) {
                document.body.classList.add('privacy-glasses');
                if (this.settings.uiBlurMethod == 'blurUI') {
                    document.body.classList.add('blur-ui');
                }
                if (this.settings.uiBlurMethod == 'blockUI') {
                    document.body.classList.add('block-ui');
                }
                if (this.settings.uiBlurMethod == 'circlesUI') {
                    document.body.classList.add('circles-ui');
                }
                if (this.settings.editBlurMethod == 'blurEdit') {
                    document.body.classList.add('blur-edit');
                }
                if (this.settings.editBlurMethod == 'blockEdit') {
                    document.body.classList.add('block-edit');
                }
                if (this.settings.editBlurMethod == 'circlesEdit') {
                    document.body.classList.add('circles-edit');
                }
                if (this.settings.previewBlurMethod == 'blurPreview') {
                    document.body.classList.add('blur-preview');
                }
                if (this.settings.previewBlurMethod == 'blockPreview') {
                    document.body.classList.add('block-preview');
                }
                if (this.settings.previewBlurMethod == 'circlesPreview') {
                    document.body.classList.add('circles-preview');
                }
            }
        });
    }
    removeStyle() {
        return __awaiter(this, void 0, void 0, function* () {
            document.body.removeClass('privacy-glasses', 'blur-ui', 'block-ui', 'circles-ui', 'blur-edit', 'block-edit', 'circles-edit', 'blur-preview', 'block-preview', 'circles-preview');
            let el = document.getElementById('privacyGlassesBlurLevel');
            if (el) {
                el.remove();
            }
        });
    }
}
const DEFAULT_SETTINGS = {
    privacyGlasses: false,
    blurLevel: 0.6,
    editBlurMethod: 'blurEdit',
    previewBlurMethod: 'blurPreview',
    uiBlurMethod: 'blurUI'
};
class privacyGlassesSettingTab extends obsidian.PluginSettingTab {
    constructor(app, plugin) {
        super(app, plugin);
        this.plugin = plugin;
    }
    display() {
        let { containerEl } = this;
        containerEl.empty();
        containerEl.createEl('h3', { text: 'Privacy Glasses v' + this.plugin.manifest.version });
        containerEl.createEl('a', { text: 'https://github.com/jillalberts/privacy-glasses', href: "https://github.com/jillalberts/privacy-glasses" });
        containerEl.createEl('span', { text: ': documentation, report issues, contact info' });
        containerEl.createEl('br');
        containerEl.createEl('a', { text: 'https://www.buymeacoffee.com/jillalberts', href: "https://www.buymeacoffee.com/jillalberts" });
        containerEl.createEl('span', { text: ': tip jar' });
        containerEl.createEl('p', { text: 'To activate/deactivate Privacy Glasses, click the glasses icon on the left-hand ribbon or run the "Toggle Privacy Glasses" command in the Command Palette (Ctrl-P). The command can also be bound to a keyboard shortcut if you wish.' });
        containerEl.createEl('p', { text: 'Experimental settings that don\'t always work as well as you might like are marked with a "⚠️". They are safe to use but can behave in annoying ways.' });
        new obsidian.Setting(containerEl)
            .setName('Privacy Glasses Activated')
            .setDesc('Indicates whether or not the plugin is currently activated.')
            .addToggle((toggle) => {
            toggle.setValue(this.plugin.settings.privacyGlasses);
            toggle.onChange((value) => __awaiter(this, void 0, void 0, function* () {
                yield this.plugin.toggleGlasses();
            }));
        });
        var sliderEl = new obsidian.Setting(containerEl);
        let sliderElDesc = 'Higher is blurrier. Default=60, current=';
        sliderEl
            .setName('Blur Level (only affects elements for which "Blurry Text" is selected below)')
            .setDesc(sliderElDesc + Math.round(this.plugin.settings.blurLevel * 100))
            // ^ need rounding to not show values like '55.00000000000001'
            .addSlider(slider => slider
            .setLimits(0.1, 1.5, 0.05)
            .setValue(this.plugin.settings.blurLevel)
            .onChange((value) => __awaiter(this, void 0, void 0, function* () {
            this.plugin.settings.blurLevel = value;
            sliderEl.setDesc(sliderElDesc + Math.round(this.plugin.settings.blurLevel * 100));
            yield this.plugin.refresh(true);
        })));
        new obsidian.Setting(containerEl)
            .setName('Obfuscation method for Edit Mode')
            .setDesc('How to obfuscate the document\'s text in Edit Mode')
            .addDropdown(dropdown => dropdown
            .addOption('', '[Off]')
            .addOption('blurEdit', 'Blurry Text')
            .addOption('blockEdit', 'Solid Blocks')
            .addOption('circlesEdit', 'Circles ⚠️')
            .setValue(this.plugin.settings.editBlurMethod)
            .onChange((value) => __awaiter(this, void 0, void 0, function* () {
            this.plugin.settings.editBlurMethod = value;
            yield this.plugin.refresh(true);
        })));
        new obsidian.Setting(containerEl)
            .setName('Obfuscation method for Preview Mode')
            .setDesc('How to obfuscate the document\'s text in Preview Mode')
            .addDropdown(dropdown => dropdown
            .addOption('', '[Off]')
            .addOption('blurPreview', 'Blurry Text')
            .addOption('blockPreview', 'Solid Blocks ⚠️')
            .addOption('circlesPreview', 'Circles ⚠️')
            .setValue(this.plugin.settings.previewBlurMethod)
            .onChange((value) => __awaiter(this, void 0, void 0, function* () {
            this.plugin.settings.previewBlurMethod = value;
            yield this.plugin.refresh(true);
        })));
        new obsidian.Setting(containerEl)
            .setName('Obfuscation method for Sidebars')
            .setDesc('How to obfuscate your file list, tags, outline, etc in Obsidian\'s sidebars')
            .addDropdown(dropdown => dropdown
            .addOption('', '[Off]')
            .addOption('blurUI', 'Blurry Text')
            .addOption('blockUI', 'Solid Blocks')
            .addOption('circlesUI', 'Circles')
            .setValue(this.plugin.settings.uiBlurMethod)
            .onChange((value) => __awaiter(this, void 0, void 0, function* () {
            this.plugin.settings.uiBlurMethod = value;
            yield this.plugin.refresh(true);
        })));
    }
}
const privacyGlassesIcon = `<path style=" stroke:none;fill-rule:nonzero;fill:currentColor;fill-opacity:1;" d="M 18.242188 7.664062 C 15.429688 7.84375 12.015625 8.40625 6.914062 9.53125 C 6.140625 9.703125 4.328125 10.070312 2.890625 10.359375 C 1.453125 10.648438 0.234375 10.890625 0.1875 10.90625 C 0.0703125 10.929688 -0.0390625 13.554688 0.0234375 14.570312 C 0.125 16.132812 0.375 16.703125 1.5 17.992188 C 3.414062 20.1875 3.726562 20.710938 4.171875 22.539062 C 5.171875 26.609375 6.757812 31.226562 8.429688 34.914062 C 9.46875 37.21875 10.859375 38.625 13.398438 39.929688 C 17.726562 42.164062 23.382812 42.898438 29.453125 42.03125 C 33.164062 41.492188 36.179688 39.9375 38.867188 37.179688 C 40.78125 35.210938 42.304688 32.976562 43.945312 29.726562 C 44.78125 28.078125 45.03125 27.40625 45.664062 25.039062 C 46.179688 23.125 46.445312 22.335938 46.921875 21.367188 C 47.59375 19.96875 48 19.679688 49.335938 19.625 C 49.765625 19.609375 50.59375 19.632812 51.171875 19.671875 C 52.429688 19.757812 52.664062 19.851562 53.289062 20.523438 C 54.109375 21.414062 54.625 22.492188 55.304688 24.75 C 56.984375 30.34375 59.09375 34.21875 61.960938 36.992188 C 63.320312 38.304688 64.382812 39.0625 66.007812 39.875 C 69.179688 41.46875 72.679688 42.265625 76.523438 42.265625 C 83.632812 42.265625 89.484375 39.320312 92.46875 34.242188 C 93.53125 32.445312 94.09375 30.851562 95.234375 26.40625 C 96.570312 21.203125 96.90625 20.203125 97.734375 18.984375 C 98.085938 18.46875 98.71875 17.867188 99.273438 17.515625 C 99.960938 17.078125 99.960938 17.085938 99.945312 14.21875 C 99.945312 13.554688 99.945312 12.742188 99.953125 12.421875 C 99.96875 11.34375 99.609375 11.039062 97.945312 10.734375 C 96.609375 10.484375 95.679688 10.265625 93.476562 9.65625 C 90.921875 8.945312 90.515625 8.851562 88.367188 8.515625 C 83.03125 7.671875 81.625 7.539062 78.757812 7.601562 C 74.945312 7.6875 72.304688 8.0625 64.492188 9.609375 C 59.21875 10.65625 57.03125 11.023438 54.507812 11.289062 C 52.570312 11.492188 50.179688 11.570312 48.46875 11.484375 C 45.40625 11.335938 43.914062 11.109375 39.257812 10.078125 C 34.960938 9.125 34.09375 8.960938 31.203125 8.554688 C 25.0625 7.703125 21.523438 7.460938 18.242188 7.664062 Z M 18.242188 7.664062 "/>`;

module.exports = PrivacyGlassesPlugin;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZXMiOlsibm9kZV9tb2R1bGVzL3RzbGliL3RzbGliLmVzNi5qcyIsIm1haW4udHMiXSwic291cmNlc0NvbnRlbnQiOlsiLyohICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbkNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLlxyXG5cclxuUGVybWlzc2lvbiB0byB1c2UsIGNvcHksIG1vZGlmeSwgYW5kL29yIGRpc3RyaWJ1dGUgdGhpcyBzb2Z0d2FyZSBmb3IgYW55XHJcbnB1cnBvc2Ugd2l0aCBvciB3aXRob3V0IGZlZSBpcyBoZXJlYnkgZ3JhbnRlZC5cclxuXHJcblRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIgQU5EIFRIRSBBVVRIT1IgRElTQ0xBSU1TIEFMTCBXQVJSQU5USUVTIFdJVEhcclxuUkVHQVJEIFRPIFRISVMgU09GVFdBUkUgSU5DTFVESU5HIEFMTCBJTVBMSUVEIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZXHJcbkFORCBGSVRORVNTLiBJTiBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SIEJFIExJQUJMRSBGT1IgQU5ZIFNQRUNJQUwsIERJUkVDVCxcclxuSU5ESVJFQ1QsIE9SIENPTlNFUVVFTlRJQUwgREFNQUdFUyBPUiBBTlkgREFNQUdFUyBXSEFUU09FVkVSIFJFU1VMVElORyBGUk9NXHJcbkxPU1MgT0YgVVNFLCBEQVRBIE9SIFBST0ZJVFMsIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBORUdMSUdFTkNFIE9SXHJcbk9USEVSIFRPUlRJT1VTIEFDVElPTiwgQVJJU0lORyBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBVU0UgT1JcclxuUEVSRk9STUFOQ0UgT0YgVEhJUyBTT0ZUV0FSRS5cclxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cclxuLyogZ2xvYmFsIFJlZmxlY3QsIFByb21pc2UgKi9cclxuXHJcbnZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24oZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYiwgcCkpIGRbcF0gPSBiW3BdOyB9O1xyXG4gICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbn07XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19leHRlbmRzKGQsIGIpIHtcclxuICAgIGlmICh0eXBlb2YgYiAhPT0gXCJmdW5jdGlvblwiICYmIGIgIT09IG51bGwpXHJcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNsYXNzIGV4dGVuZHMgdmFsdWUgXCIgKyBTdHJpbmcoYikgKyBcIiBpcyBub3QgYSBjb25zdHJ1Y3RvciBvciBudWxsXCIpO1xyXG4gICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG59XHJcblxyXG5leHBvcnQgdmFyIF9fYXNzaWduID0gZnVuY3Rpb24oKSB7XHJcbiAgICBfX2Fzc2lnbiA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gX19hc3NpZ24odCkge1xyXG4gICAgICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xyXG4gICAgICAgICAgICBzID0gYXJndW1lbnRzW2ldO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpIHRbcF0gPSBzW3BdO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdDtcclxuICAgIH1cclxuICAgIHJldHVybiBfX2Fzc2lnbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19yZXN0KHMsIGUpIHtcclxuICAgIHZhciB0ID0ge307XHJcbiAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkgJiYgZS5pbmRleE9mKHApIDwgMClcclxuICAgICAgICB0W3BdID0gc1twXTtcclxuICAgIGlmIChzICE9IG51bGwgJiYgdHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPT09IFwiZnVuY3Rpb25cIilcclxuICAgICAgICBmb3IgKHZhciBpID0gMCwgcCA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMocyk7IGkgPCBwLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGlmIChlLmluZGV4T2YocFtpXSkgPCAwICYmIE9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChzLCBwW2ldKSlcclxuICAgICAgICAgICAgICAgIHRbcFtpXV0gPSBzW3BbaV1dO1xyXG4gICAgICAgIH1cclxuICAgIHJldHVybiB0O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYykge1xyXG4gICAgdmFyIGMgPSBhcmd1bWVudHMubGVuZ3RoLCByID0gYyA8IDMgPyB0YXJnZXQgOiBkZXNjID09PSBudWxsID8gZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGFyZ2V0LCBrZXkpIDogZGVzYywgZDtcclxuICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5kZWNvcmF0ZSA9PT0gXCJmdW5jdGlvblwiKSByID0gUmVmbGVjdC5kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYyk7XHJcbiAgICBlbHNlIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSBpZiAoZCA9IGRlY29yYXRvcnNbaV0pIHIgPSAoYyA8IDMgPyBkKHIpIDogYyA+IDMgPyBkKHRhcmdldCwga2V5LCByKSA6IGQodGFyZ2V0LCBrZXkpKSB8fCByO1xyXG4gICAgcmV0dXJuIGMgPiAzICYmIHIgJiYgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCByKSwgcjtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fcGFyYW0ocGFyYW1JbmRleCwgZGVjb3JhdG9yKSB7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKHRhcmdldCwga2V5KSB7IGRlY29yYXRvcih0YXJnZXQsIGtleSwgcGFyYW1JbmRleCk7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fbWV0YWRhdGEobWV0YWRhdGFLZXksIG1ldGFkYXRhVmFsdWUpIHtcclxuICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5tZXRhZGF0YSA9PT0gXCJmdW5jdGlvblwiKSByZXR1cm4gUmVmbGVjdC5tZXRhZGF0YShtZXRhZGF0YUtleSwgbWV0YWRhdGFWYWx1ZSk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2F3YWl0ZXIodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XHJcbiAgICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHZhbHVlKTsgfSk7IH1cclxuICAgIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xyXG4gICAgICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cclxuICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cclxuICAgICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IGFkb3B0KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxyXG4gICAgICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcclxuICAgIH0pO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19nZW5lcmF0b3IodGhpc0FyZywgYm9keSkge1xyXG4gICAgdmFyIF8gPSB7IGxhYmVsOiAwLCBzZW50OiBmdW5jdGlvbigpIHsgaWYgKHRbMF0gJiAxKSB0aHJvdyB0WzFdOyByZXR1cm4gdFsxXTsgfSwgdHJ5czogW10sIG9wczogW10gfSwgZiwgeSwgdCwgZztcclxuICAgIHJldHVybiBnID0geyBuZXh0OiB2ZXJiKDApLCBcInRocm93XCI6IHZlcmIoMSksIFwicmV0dXJuXCI6IHZlcmIoMikgfSwgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIChnW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXM7IH0pLCBnO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuKSB7IHJldHVybiBmdW5jdGlvbiAodikgeyByZXR1cm4gc3RlcChbbiwgdl0pOyB9OyB9XHJcbiAgICBmdW5jdGlvbiBzdGVwKG9wKSB7XHJcbiAgICAgICAgaWYgKGYpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuXCIpO1xyXG4gICAgICAgIHdoaWxlIChfKSB0cnkge1xyXG4gICAgICAgICAgICBpZiAoZiA9IDEsIHkgJiYgKHQgPSBvcFswXSAmIDIgPyB5W1wicmV0dXJuXCJdIDogb3BbMF0gPyB5W1widGhyb3dcIl0gfHwgKCh0ID0geVtcInJldHVyblwiXSkgJiYgdC5jYWxsKHkpLCAwKSA6IHkubmV4dCkgJiYgISh0ID0gdC5jYWxsKHksIG9wWzFdKSkuZG9uZSkgcmV0dXJuIHQ7XHJcbiAgICAgICAgICAgIGlmICh5ID0gMCwgdCkgb3AgPSBbb3BbMF0gJiAyLCB0LnZhbHVlXTtcclxuICAgICAgICAgICAgc3dpdGNoIChvcFswXSkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSAwOiBjYXNlIDE6IHQgPSBvcDsgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDQ6IF8ubGFiZWwrKzsgcmV0dXJuIHsgdmFsdWU6IG9wWzFdLCBkb25lOiBmYWxzZSB9O1xyXG4gICAgICAgICAgICAgICAgY2FzZSA1OiBfLmxhYmVsKys7IHkgPSBvcFsxXTsgb3AgPSBbMF07IGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgY2FzZSA3OiBvcCA9IF8ub3BzLnBvcCgpOyBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICBpZiAoISh0ID0gXy50cnlzLCB0ID0gdC5sZW5ndGggPiAwICYmIHRbdC5sZW5ndGggLSAxXSkgJiYgKG9wWzBdID09PSA2IHx8IG9wWzBdID09PSAyKSkgeyBfID0gMDsgY29udGludWU7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDMgJiYgKCF0IHx8IChvcFsxXSA+IHRbMF0gJiYgb3BbMV0gPCB0WzNdKSkpIHsgXy5sYWJlbCA9IG9wWzFdOyBicmVhazsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gNiAmJiBfLmxhYmVsIDwgdFsxXSkgeyBfLmxhYmVsID0gdFsxXTsgdCA9IG9wOyBicmVhazsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0ICYmIF8ubGFiZWwgPCB0WzJdKSB7IF8ubGFiZWwgPSB0WzJdOyBfLm9wcy5wdXNoKG9wKTsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAodFsyXSkgXy5vcHMucG9wKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBvcCA9IGJvZHkuY2FsbCh0aGlzQXJnLCBfKTtcclxuICAgICAgICB9IGNhdGNoIChlKSB7IG9wID0gWzYsIGVdOyB5ID0gMDsgfSBmaW5hbGx5IHsgZiA9IHQgPSAwOyB9XHJcbiAgICAgICAgaWYgKG9wWzBdICYgNSkgdGhyb3cgb3BbMV07IHJldHVybiB7IHZhbHVlOiBvcFswXSA/IG9wWzFdIDogdm9pZCAwLCBkb25lOiB0cnVlIH07XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCB2YXIgX19jcmVhdGVCaW5kaW5nID0gT2JqZWN0LmNyZWF0ZSA/IChmdW5jdGlvbihvLCBtLCBrLCBrMikge1xyXG4gICAgaWYgKGsyID09PSB1bmRlZmluZWQpIGsyID0gaztcclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvLCBrMiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uKCkgeyByZXR1cm4gbVtrXTsgfSB9KTtcclxufSkgOiAoZnVuY3Rpb24obywgbSwgaywgazIpIHtcclxuICAgIGlmIChrMiA9PT0gdW5kZWZpbmVkKSBrMiA9IGs7XHJcbiAgICBvW2syXSA9IG1ba107XHJcbn0pO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZXhwb3J0U3RhcihtLCBvKSB7XHJcbiAgICBmb3IgKHZhciBwIGluIG0pIGlmIChwICE9PSBcImRlZmF1bHRcIiAmJiAhT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG8sIHApKSBfX2NyZWF0ZUJpbmRpbmcobywgbSwgcCk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3ZhbHVlcyhvKSB7XHJcbiAgICB2YXIgcyA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBTeW1ib2wuaXRlcmF0b3IsIG0gPSBzICYmIG9bc10sIGkgPSAwO1xyXG4gICAgaWYgKG0pIHJldHVybiBtLmNhbGwobyk7XHJcbiAgICBpZiAobyAmJiB0eXBlb2Ygby5sZW5ndGggPT09IFwibnVtYmVyXCIpIHJldHVybiB7XHJcbiAgICAgICAgbmV4dDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAobyAmJiBpID49IG8ubGVuZ3RoKSBvID0gdm9pZCAwO1xyXG4gICAgICAgICAgICByZXR1cm4geyB2YWx1ZTogbyAmJiBvW2krK10sIGRvbmU6ICFvIH07XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIHRocm93IG5ldyBUeXBlRXJyb3IocyA/IFwiT2JqZWN0IGlzIG5vdCBpdGVyYWJsZS5cIiA6IFwiU3ltYm9sLml0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fcmVhZChvLCBuKSB7XHJcbiAgICB2YXIgbSA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvW1N5bWJvbC5pdGVyYXRvcl07XHJcbiAgICBpZiAoIW0pIHJldHVybiBvO1xyXG4gICAgdmFyIGkgPSBtLmNhbGwobyksIHIsIGFyID0gW10sIGU7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIHdoaWxlICgobiA9PT0gdm9pZCAwIHx8IG4tLSA+IDApICYmICEociA9IGkubmV4dCgpKS5kb25lKSBhci5wdXNoKHIudmFsdWUpO1xyXG4gICAgfVxyXG4gICAgY2F0Y2ggKGVycm9yKSB7IGUgPSB7IGVycm9yOiBlcnJvciB9OyB9XHJcbiAgICBmaW5hbGx5IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBpZiAociAmJiAhci5kb25lICYmIChtID0gaVtcInJldHVyblwiXSkpIG0uY2FsbChpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZmluYWxseSB7IGlmIChlKSB0aHJvdyBlLmVycm9yOyB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gYXI7XHJcbn1cclxuXHJcbi8qKiBAZGVwcmVjYXRlZCAqL1xyXG5leHBvcnQgZnVuY3Rpb24gX19zcHJlYWQoKSB7XHJcbiAgICBmb3IgKHZhciBhciA9IFtdLCBpID0gMDsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKylcclxuICAgICAgICBhciA9IGFyLmNvbmNhdChfX3JlYWQoYXJndW1lbnRzW2ldKSk7XHJcbiAgICByZXR1cm4gYXI7XHJcbn1cclxuXHJcbi8qKiBAZGVwcmVjYXRlZCAqL1xyXG5leHBvcnQgZnVuY3Rpb24gX19zcHJlYWRBcnJheXMoKSB7XHJcbiAgICBmb3IgKHZhciBzID0gMCwgaSA9IDAsIGlsID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IGlsOyBpKyspIHMgKz0gYXJndW1lbnRzW2ldLmxlbmd0aDtcclxuICAgIGZvciAodmFyIHIgPSBBcnJheShzKSwgayA9IDAsIGkgPSAwOyBpIDwgaWw7IGkrKylcclxuICAgICAgICBmb3IgKHZhciBhID0gYXJndW1lbnRzW2ldLCBqID0gMCwgamwgPSBhLmxlbmd0aDsgaiA8IGpsOyBqKyssIGsrKylcclxuICAgICAgICAgICAgcltrXSA9IGFbal07XHJcbiAgICByZXR1cm4gcjtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fc3ByZWFkQXJyYXkodG8sIGZyb20pIHtcclxuICAgIGZvciAodmFyIGkgPSAwLCBpbCA9IGZyb20ubGVuZ3RoLCBqID0gdG8ubGVuZ3RoOyBpIDwgaWw7IGkrKywgaisrKVxyXG4gICAgICAgIHRvW2pdID0gZnJvbVtpXTtcclxuICAgIHJldHVybiB0bztcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXdhaXQodikge1xyXG4gICAgcmV0dXJuIHRoaXMgaW5zdGFuY2VvZiBfX2F3YWl0ID8gKHRoaXMudiA9IHYsIHRoaXMpIDogbmV3IF9fYXdhaXQodik7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2FzeW5jR2VuZXJhdG9yKHRoaXNBcmcsIF9hcmd1bWVudHMsIGdlbmVyYXRvcikge1xyXG4gICAgaWYgKCFTeW1ib2wuYXN5bmNJdGVyYXRvcikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN5bWJvbC5hc3luY0l0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcclxuICAgIHZhciBnID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pLCBpLCBxID0gW107XHJcbiAgICByZXR1cm4gaSA9IHt9LCB2ZXJiKFwibmV4dFwiKSwgdmVyYihcInRocm93XCIpLCB2ZXJiKFwicmV0dXJuXCIpLCBpW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0sIGk7XHJcbiAgICBmdW5jdGlvbiB2ZXJiKG4pIHsgaWYgKGdbbl0pIGlbbl0gPSBmdW5jdGlvbiAodikgeyByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKGEsIGIpIHsgcS5wdXNoKFtuLCB2LCBhLCBiXSkgPiAxIHx8IHJlc3VtZShuLCB2KTsgfSk7IH07IH1cclxuICAgIGZ1bmN0aW9uIHJlc3VtZShuLCB2KSB7IHRyeSB7IHN0ZXAoZ1tuXSh2KSk7IH0gY2F0Y2ggKGUpIHsgc2V0dGxlKHFbMF1bM10sIGUpOyB9IH1cclxuICAgIGZ1bmN0aW9uIHN0ZXAocikgeyByLnZhbHVlIGluc3RhbmNlb2YgX19hd2FpdCA/IFByb21pc2UucmVzb2x2ZShyLnZhbHVlLnYpLnRoZW4oZnVsZmlsbCwgcmVqZWN0KSA6IHNldHRsZShxWzBdWzJdLCByKTsgfVxyXG4gICAgZnVuY3Rpb24gZnVsZmlsbCh2YWx1ZSkgeyByZXN1bWUoXCJuZXh0XCIsIHZhbHVlKTsgfVxyXG4gICAgZnVuY3Rpb24gcmVqZWN0KHZhbHVlKSB7IHJlc3VtZShcInRocm93XCIsIHZhbHVlKTsgfVxyXG4gICAgZnVuY3Rpb24gc2V0dGxlKGYsIHYpIHsgaWYgKGYodiksIHEuc2hpZnQoKSwgcS5sZW5ndGgpIHJlc3VtZShxWzBdWzBdLCBxWzBdWzFdKTsgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hc3luY0RlbGVnYXRvcihvKSB7XHJcbiAgICB2YXIgaSwgcDtcclxuICAgIHJldHVybiBpID0ge30sIHZlcmIoXCJuZXh0XCIpLCB2ZXJiKFwidGhyb3dcIiwgZnVuY3Rpb24gKGUpIHsgdGhyb3cgZTsgfSksIHZlcmIoXCJyZXR1cm5cIiksIGlbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0sIGk7XHJcbiAgICBmdW5jdGlvbiB2ZXJiKG4sIGYpIHsgaVtuXSA9IG9bbl0gPyBmdW5jdGlvbiAodikgeyByZXR1cm4gKHAgPSAhcCkgPyB7IHZhbHVlOiBfX2F3YWl0KG9bbl0odikpLCBkb25lOiBuID09PSBcInJldHVyblwiIH0gOiBmID8gZih2KSA6IHY7IH0gOiBmOyB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2FzeW5jVmFsdWVzKG8pIHtcclxuICAgIGlmICghU3ltYm9sLmFzeW5jSXRlcmF0b3IpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTeW1ib2wuYXN5bmNJdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIik7XHJcbiAgICB2YXIgbSA9IG9bU3ltYm9sLmFzeW5jSXRlcmF0b3JdLCBpO1xyXG4gICAgcmV0dXJuIG0gPyBtLmNhbGwobykgOiAobyA9IHR5cGVvZiBfX3ZhbHVlcyA9PT0gXCJmdW5jdGlvblwiID8gX192YWx1ZXMobykgOiBvW1N5bWJvbC5pdGVyYXRvcl0oKSwgaSA9IHt9LCB2ZXJiKFwibmV4dFwiKSwgdmVyYihcInRocm93XCIpLCB2ZXJiKFwicmV0dXJuXCIpLCBpW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0sIGkpO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuKSB7IGlbbl0gPSBvW25dICYmIGZ1bmN0aW9uICh2KSB7IHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7IHYgPSBvW25dKHYpLCBzZXR0bGUocmVzb2x2ZSwgcmVqZWN0LCB2LmRvbmUsIHYudmFsdWUpOyB9KTsgfTsgfVxyXG4gICAgZnVuY3Rpb24gc2V0dGxlKHJlc29sdmUsIHJlamVjdCwgZCwgdikgeyBQcm9taXNlLnJlc29sdmUodikudGhlbihmdW5jdGlvbih2KSB7IHJlc29sdmUoeyB2YWx1ZTogdiwgZG9uZTogZCB9KTsgfSwgcmVqZWN0KTsgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19tYWtlVGVtcGxhdGVPYmplY3QoY29va2VkLCByYXcpIHtcclxuICAgIGlmIChPYmplY3QuZGVmaW5lUHJvcGVydHkpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KGNvb2tlZCwgXCJyYXdcIiwgeyB2YWx1ZTogcmF3IH0pOyB9IGVsc2UgeyBjb29rZWQucmF3ID0gcmF3OyB9XHJcbiAgICByZXR1cm4gY29va2VkO1xyXG59O1xyXG5cclxudmFyIF9fc2V0TW9kdWxlRGVmYXVsdCA9IE9iamVjdC5jcmVhdGUgPyAoZnVuY3Rpb24obywgdikge1xyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG8sIFwiZGVmYXVsdFwiLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2IH0pO1xyXG59KSA6IGZ1bmN0aW9uKG8sIHYpIHtcclxuICAgIG9bXCJkZWZhdWx0XCJdID0gdjtcclxufTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2ltcG9ydFN0YXIobW9kKSB7XHJcbiAgICBpZiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSByZXR1cm4gbW9kO1xyXG4gICAgdmFyIHJlc3VsdCA9IHt9O1xyXG4gICAgaWYgKG1vZCAhPSBudWxsKSBmb3IgKHZhciBrIGluIG1vZCkgaWYgKGsgIT09IFwiZGVmYXVsdFwiICYmIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChtb2QsIGspKSBfX2NyZWF0ZUJpbmRpbmcocmVzdWx0LCBtb2QsIGspO1xyXG4gICAgX19zZXRNb2R1bGVEZWZhdWx0KHJlc3VsdCwgbW9kKTtcclxuICAgIHJldHVybiByZXN1bHQ7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2ltcG9ydERlZmF1bHQobW9kKSB7XHJcbiAgICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IGRlZmF1bHQ6IG1vZCB9O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19jbGFzc1ByaXZhdGVGaWVsZEdldChyZWNlaXZlciwgcHJpdmF0ZU1hcCkge1xyXG4gICAgaWYgKCFwcml2YXRlTWFwLmhhcyhyZWNlaXZlcikpIHtcclxuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiYXR0ZW1wdGVkIHRvIGdldCBwcml2YXRlIGZpZWxkIG9uIG5vbi1pbnN0YW5jZVwiKTtcclxuICAgIH1cclxuICAgIHJldHVybiBwcml2YXRlTWFwLmdldChyZWNlaXZlcik7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0KHJlY2VpdmVyLCBwcml2YXRlTWFwLCB2YWx1ZSkge1xyXG4gICAgaWYgKCFwcml2YXRlTWFwLmhhcyhyZWNlaXZlcikpIHtcclxuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiYXR0ZW1wdGVkIHRvIHNldCBwcml2YXRlIGZpZWxkIG9uIG5vbi1pbnN0YW5jZVwiKTtcclxuICAgIH1cclxuICAgIHByaXZhdGVNYXAuc2V0KHJlY2VpdmVyLCB2YWx1ZSk7XHJcbiAgICByZXR1cm4gdmFsdWU7XHJcbn1cclxuIiwiLyogXHRcclxuXHRQcml2YWN5IEdsYXNzZXMgcGx1Z2luIGZvciBPYnNpZGlhblxyXG5cdENvcHlyaWdodCAyMDIxIEppbGwgQWxiZXJ0c1xyXG5cdExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZSAoaHR0cDovL29wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL01JVCkgXHJcbiovXHJcblxyXG5pbXBvcnQgeyBBcHAsIFBsdWdpbiwgUGx1Z2luU2V0dGluZ1RhYiwgU2V0dGluZywgYWRkSWNvbiwgVG9nZ2xlQ29tcG9uZW50LCBOb3RpY2V9IGZyb20gJ29ic2lkaWFuJztcclxuXHJcbmNsYXNzIFN0YXR1c0JhciB7XHJcblx0cHJpdmF0ZSBzdGF0dXNCYXJFbDogSFRNTEVsZW1lbnQ7XHJcbiAgXHJcblx0Y29uc3RydWN0b3Ioc3RhdHVzQmFyRWw6IEhUTUxFbGVtZW50KSB7XHJcblx0ICB0aGlzLnN0YXR1c0JhckVsID0gc3RhdHVzQmFyRWw7XHJcblx0fVxyXG4gIFxyXG5cdGRpc3BsYXlUZXh0KHRleHQ6IHN0cmluZykge1xyXG5cdCAgdGhpcy5zdGF0dXNCYXJFbC5zZXRUZXh0KHRleHQpO1xyXG5cdH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUHJpdmFjeUdsYXNzZXNQbHVnaW4gZXh0ZW5kcyBQbHVnaW4ge1xyXG5cclxuXHRzZXR0aW5nczogUHJpdmFjeUdsYXNzZXNTZXR0aW5ncztcclxuXHRzdGF0dXNCYXI6IFN0YXR1c0JhcjtcclxuXHRub3RpY2VNc2c6IE5vdGljZTtcclxuXHJcblx0YXN5bmMgb25sb2FkKCkge1xyXG4gICAgICAgIFxyXG5cdFx0dGhpcy5zdGF0dXNCYXIgPSBuZXcgU3RhdHVzQmFyKHRoaXMuYWRkU3RhdHVzQmFySXRlbSgpKTtcclxuXHRcdHRoaXMuc3RhdHVzQmFyLmRpc3BsYXlUZXh0KCdQcml2YWN5IEdsYXNzZXMgT2ZmJyk7XHJcblx0XHRcclxuXHRcdGF3YWl0IHRoaXMubG9hZFNldHRpbmdzKCk7XHJcblxyXG5cdFx0dGhpcy5hZGRTZXR0aW5nVGFiKG5ldyBwcml2YWN5R2xhc3Nlc1NldHRpbmdUYWIodGhpcy5hcHAsIHRoaXMpKTtcclxuXHJcblx0XHRhZGRJY29uKCdnbGFzc2VzJywgcHJpdmFjeUdsYXNzZXNJY29uKTtcclxuXHRcdHRoaXMuYWRkUmliYm9uSWNvbignZ2xhc3NlcycsICdUb2dnbGUgUHJpdmFjeSBHbGFzc2VzJywgKCkgPT4ge1xyXG5cdFx0XHR0aGlzLnRvZ2dsZUdsYXNzZXMoKTtcclxuXHRcdH0pO1xyXG5cclxuXHRcdHRoaXMuYWRkQ29tbWFuZCh7XHJcblx0XHRcdGlkOiAndG9nZ2xlLXByaXZhY3ktZ2xhc3NlcycsIFxyXG5cdFx0XHRuYW1lOiAnVG9nZ2xlIFByaXZhY3kgR2xhc3NlcycsXHJcblx0XHRcdGNhbGxiYWNrOiAoKSA9PiB7XHJcblx0XHRcdFx0dGhpcy50b2dnbGVHbGFzc2VzKCk7XHJcblx0XHRcdH1cclxuXHRcdH0pO1xyXG5cdFx0XHJcblx0XHRhd2FpdCB0aGlzLnJlZnJlc2goZmFsc2UpO1xyXG5cdH1cclxuXHJcblx0YXN5bmMgdG9nZ2xlR2xhc3NlcygpIHtcclxuXHRcdHRoaXMuc2V0dGluZ3MucHJpdmFjeUdsYXNzZXMgPSAhdGhpcy5zZXR0aW5ncy5wcml2YWN5R2xhc3NlcztcclxuXHRcdHRoaXMuc3RhdHVzQmFyLmRpc3BsYXlUZXh0KHRoaXMuc2V0dGluZ3MucHJpdmFjeUdsYXNzZXMgPyAnUHJpdmFjeSBHbGFzc2VzIE9OJyA6ICdQcml2YWN5IEdsYXNzZXMgT2ZmJyk7XHJcblx0XHR0aGlzLm5vdGljZU1zZyA9IG5ldyBOb3RpY2UodGhpcy5zZXR0aW5ncy5wcml2YWN5R2xhc3NlcyA/ICdQcml2YWN5IEdsYXNzZXMgT24nIDogJ1ByaXZhY3kgR2xhc3NlcyBPZmYnLCAyMDAwKTtcclxuXHRcdHRoaXMucmVmcmVzaChmYWxzZSk7XHJcblx0fVxyXG5cclxuXHRhc3luYyByZWZyZXNoKHNhdmVJdDogYm9vbGVhbikge1xyXG5cdFx0dGhpcy51cGRhdGVTdHlsZSgpO1xyXG5cdFx0aWYgKHNhdmVJdCkge1xyXG5cdFx0XHRhd2FpdCB0aGlzLnNhdmVTZXR0aW5ncygpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0YXN5bmMgb251bmxvYWQoKSB7XHJcblx0XHRhd2FpdCB0aGlzLnNhdmVTZXR0aW5ncygpO1xyXG5cdFx0dGhpcy5yZW1vdmVTdHlsZSgpO1xyXG5cdH1cclxuXHJcblx0YXN5bmMgbG9hZFNldHRpbmdzKCkge1xyXG5cdFx0dGhpcy5zZXR0aW5ncyA9IE9iamVjdC5hc3NpZ24oREVGQVVMVF9TRVRUSU5HUywgYXdhaXQgdGhpcy5sb2FkRGF0YSgpKTtcclxuXHR9XHJcblx0XHJcblx0YXN5bmMgc2F2ZVNldHRpbmdzKCkge1xyXG5cdFx0YXdhaXQgdGhpcy5zYXZlRGF0YSh0aGlzLnNldHRpbmdzKTtcclxuXHR9XHJcblx0XHJcblx0YXN5bmMgdXBkYXRlU3R5bGUoKSB7XHJcblxyXG5cdFx0YXdhaXQgdGhpcy5yZW1vdmVTdHlsZSgpO1xyXG5cclxuXHRcdHZhciBibHVyTGV2ZWxTdHlsZUVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTtcclxuXHRcdGJsdXJMZXZlbFN0eWxlRWwuaWQgPSAncHJpdmFjeUdsYXNzZXNCbHVyTGV2ZWwnO1xyXG5cdFx0ZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChibHVyTGV2ZWxTdHlsZUVsKTtcclxuXHRcdHZhciBjc3MgPSBgYm9keSB7LS1ibHVyTGV2ZWw6JHt0aGlzLnNldHRpbmdzLmJsdXJMZXZlbH1lbX07YDtcclxuXHRcdGJsdXJMZXZlbFN0eWxlRWwuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoY3NzKSk7XHRcclxuXHJcblx0XHRpZiAodGhpcy5zZXR0aW5ncy5wcml2YWN5R2xhc3Nlcykge1xyXG5cclxuXHRcdFx0ZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QuYWRkKCdwcml2YWN5LWdsYXNzZXMnKTtcclxuXHJcblx0XHRcdGlmICh0aGlzLnNldHRpbmdzLnVpQmx1ck1ldGhvZCA9PSAnYmx1clVJJykge2RvY3VtZW50LmJvZHkuY2xhc3NMaXN0LmFkZCgnYmx1ci11aScpO31cclxuXHRcdFx0aWYgKHRoaXMuc2V0dGluZ3MudWlCbHVyTWV0aG9kID09ICdibG9ja1VJJykge2RvY3VtZW50LmJvZHkuY2xhc3NMaXN0LmFkZCgnYmxvY2stdWknKTt9XHJcblx0XHRcdGlmICh0aGlzLnNldHRpbmdzLnVpQmx1ck1ldGhvZCA9PSAnY2lyY2xlc1VJJykge2RvY3VtZW50LmJvZHkuY2xhc3NMaXN0LmFkZCgnY2lyY2xlcy11aScpO31cclxuXHJcblx0XHRcdGlmICh0aGlzLnNldHRpbmdzLmVkaXRCbHVyTWV0aG9kID09ICdibHVyRWRpdCcpIHtkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5hZGQoJ2JsdXItZWRpdCcpO31cclxuXHRcdFx0aWYgKHRoaXMuc2V0dGluZ3MuZWRpdEJsdXJNZXRob2QgPT0gJ2Jsb2NrRWRpdCcpIHtkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5hZGQoJ2Jsb2NrLWVkaXQnKTt9XHJcblx0XHRcdGlmICh0aGlzLnNldHRpbmdzLmVkaXRCbHVyTWV0aG9kID09ICdjaXJjbGVzRWRpdCcpIHtkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5hZGQoJ2NpcmNsZXMtZWRpdCcpO31cclxuXHJcblx0XHRcdGlmICh0aGlzLnNldHRpbmdzLnByZXZpZXdCbHVyTWV0aG9kID09ICdibHVyUHJldmlldycpIHtkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5hZGQoJ2JsdXItcHJldmlldycpO31cclxuXHRcdFx0aWYgKHRoaXMuc2V0dGluZ3MucHJldmlld0JsdXJNZXRob2QgPT0gJ2Jsb2NrUHJldmlldycpIHtkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5hZGQoJ2Jsb2NrLXByZXZpZXcnKTt9XHJcblx0XHRcdGlmICh0aGlzLnNldHRpbmdzLnByZXZpZXdCbHVyTWV0aG9kID09ICdjaXJjbGVzUHJldmlldycpIHtkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5hZGQoJ2NpcmNsZXMtcHJldmlldycpO31cclxuXHRcdH1cclxuXHR9XHRcclxuXHRcclxuXHRhc3luYyByZW1vdmVTdHlsZSgpIHtcclxuXHRcdGRvY3VtZW50LmJvZHkucmVtb3ZlQ2xhc3MoXHQncHJpdmFjeS1nbGFzc2VzJyxcclxuXHRcdFx0XHRcdFx0XHRcdFx0J2JsdXItdWknLFxyXG5cdFx0XHRcdFx0XHRcdFx0XHQnYmxvY2stdWknLFxyXG5cdFx0XHRcdFx0XHRcdFx0XHQnY2lyY2xlcy11aScsXHJcblx0XHRcdFx0XHRcdFx0XHRcdCdibHVyLWVkaXQnLFxyXG5cdFx0XHRcdFx0XHRcdFx0XHQnYmxvY2stZWRpdCcsXHJcblx0XHRcdFx0XHRcdFx0XHRcdCdjaXJjbGVzLWVkaXQnLFxyXG5cdFx0XHRcdFx0XHRcdFx0XHQnYmx1ci1wcmV2aWV3JyxcclxuXHRcdFx0XHRcdFx0XHRcdFx0J2Jsb2NrLXByZXZpZXcnLFxyXG5cdFx0XHRcdFx0XHRcdFx0XHQnY2lyY2xlcy1wcmV2aWV3J1xyXG5cdFx0XHRcdFx0XHRcdFx0KTtcclxuXHRcdGxldCBlbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwcml2YWN5R2xhc3Nlc0JsdXJMZXZlbCcpO1xyXG5cdFx0aWYgKGVsKSB7ZWwucmVtb3ZlKCk7fVxyXG5cdH1cclxufVxyXG5cclxuaW50ZXJmYWNlIFByaXZhY3lHbGFzc2VzU2V0dGluZ3Mge1xyXG5cdHByaXZhY3lHbGFzc2VzOiBib29sZWFuO1xyXG5cdGJsdXJMZXZlbDogbnVtYmVyO1xyXG5cdGVkaXRCbHVyTWV0aG9kOiBzdHJpbmc7XHJcblx0cHJldmlld0JsdXJNZXRob2Q6IHN0cmluZztcclxuXHR1aUJsdXJNZXRob2Q6IHN0cmluZztcclxufVxyXG5cclxuY29uc3QgREVGQVVMVF9TRVRUSU5HUzogUHJpdmFjeUdsYXNzZXNTZXR0aW5ncyA9IHtcclxuXHRwcml2YWN5R2xhc3NlczogZmFsc2UsXHJcblx0Ymx1ckxldmVsOiAwLjYsXHJcblx0ZWRpdEJsdXJNZXRob2Q6ICdibHVyRWRpdCcsXHJcblx0cHJldmlld0JsdXJNZXRob2Q6ICdibHVyUHJldmlldycsXHJcblx0dWlCbHVyTWV0aG9kOiAnYmx1clVJJ1xyXG59XHJcblxyXG5jbGFzcyBwcml2YWN5R2xhc3Nlc1NldHRpbmdUYWIgZXh0ZW5kcyBQbHVnaW5TZXR0aW5nVGFiIHtcclxuXHJcblx0cGx1Z2luOiBQcml2YWN5R2xhc3Nlc1BsdWdpbjtcclxuXHRcdGNvbnN0cnVjdG9yKGFwcDogQXBwLCBwbHVnaW46IFByaXZhY3lHbGFzc2VzUGx1Z2luKSB7XHJcblx0XHRzdXBlcihhcHAsIHBsdWdpbik7XHJcblx0XHR0aGlzLnBsdWdpbiA9IHBsdWdpbjtcclxuXHR9XHJcbiAgXHJcblx0ZGlzcGxheSgpOiB2b2lkIHtcclxuXHJcblx0XHRsZXQge2NvbnRhaW5lckVsfSA9IHRoaXM7XHJcblx0XHJcblx0XHRjb250YWluZXJFbC5lbXB0eSgpO1xyXG5cdFx0Y29udGFpbmVyRWwuY3JlYXRlRWwoJ2gzJywge3RleHQ6ICdQcml2YWN5IEdsYXNzZXMgdicgKyB0aGlzLnBsdWdpbi5tYW5pZmVzdC52ZXJzaW9ufSk7XHJcblx0XHRjb250YWluZXJFbC5jcmVhdGVFbCgnYScsIHt0ZXh0OiAnaHR0cHM6Ly9naXRodWIuY29tL2ppbGxhbGJlcnRzL3ByaXZhY3ktZ2xhc3NlcycsIGhyZWY6XCJodHRwczovL2dpdGh1Yi5jb20vamlsbGFsYmVydHMvcHJpdmFjeS1nbGFzc2VzXCJ9KTtcclxuXHRcdGNvbnRhaW5lckVsLmNyZWF0ZUVsKCdzcGFuJywge3RleHQ6ICc6IGRvY3VtZW50YXRpb24sIHJlcG9ydCBpc3N1ZXMsIGNvbnRhY3QgaW5mbyd9KTtcclxuXHRcdGNvbnRhaW5lckVsLmNyZWF0ZUVsKCdicicpO1xyXG5cdFx0Y29udGFpbmVyRWwuY3JlYXRlRWwoJ2EnLCB7dGV4dDogJ2h0dHBzOi8vd3d3LmJ1eW1lYWNvZmZlZS5jb20vamlsbGFsYmVydHMnLCBocmVmOlwiaHR0cHM6Ly93d3cuYnV5bWVhY29mZmVlLmNvbS9qaWxsYWxiZXJ0c1wifSk7XHJcblx0XHRjb250YWluZXJFbC5jcmVhdGVFbCgnc3BhbicsIHt0ZXh0OiAnOiB0aXAgamFyJ30pO1xyXG5cdFx0Y29udGFpbmVyRWwuY3JlYXRlRWwoJ3AnLCB7dGV4dDogJ1RvIGFjdGl2YXRlL2RlYWN0aXZhdGUgUHJpdmFjeSBHbGFzc2VzLCBjbGljayB0aGUgZ2xhc3NlcyBpY29uIG9uIHRoZSBsZWZ0LWhhbmQgcmliYm9uIG9yIHJ1biB0aGUgXCJUb2dnbGUgUHJpdmFjeSBHbGFzc2VzXCIgY29tbWFuZCBpbiB0aGUgQ29tbWFuZCBQYWxldHRlIChDdHJsLVApLiBUaGUgY29tbWFuZCBjYW4gYWxzbyBiZSBib3VuZCB0byBhIGtleWJvYXJkIHNob3J0Y3V0IGlmIHlvdSB3aXNoLid9KTtcdFxyXG5cdFx0Y29udGFpbmVyRWwuY3JlYXRlRWwoJ3AnLCB7dGV4dDogJ0V4cGVyaW1lbnRhbCBzZXR0aW5ncyB0aGF0IGRvblxcJ3QgYWx3YXlzIHdvcmsgYXMgd2VsbCBhcyB5b3UgbWlnaHQgbGlrZSBhcmUgbWFya2VkIHdpdGggYSBcIuKaoO+4j1wiLiBUaGV5IGFyZSBzYWZlIHRvIHVzZSBidXQgY2FuIGJlaGF2ZSBpbiBhbm5veWluZyB3YXlzLid9KTtcclxuXHJcblx0XHRuZXcgU2V0dGluZyhjb250YWluZXJFbClcclxuXHRcdFx0LnNldE5hbWUoJ1ByaXZhY3kgR2xhc3NlcyBBY3RpdmF0ZWQnKVxyXG5cdFx0XHQuc2V0RGVzYygnSW5kaWNhdGVzIHdoZXRoZXIgb3Igbm90IHRoZSBwbHVnaW4gaXMgY3VycmVudGx5IGFjdGl2YXRlZC4nKVxyXG5cdFx0XHQuYWRkVG9nZ2xlKCh0b2dnbGUpID0+IHtcclxuXHRcdFx0XHR0b2dnbGUuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MucHJpdmFjeUdsYXNzZXMpO1xyXG5cdFx0XHRcdHRvZ2dsZS5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuXHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnRvZ2dsZUdsYXNzZXMoKTtcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0dmFyIHNsaWRlckVsID0gbmV3IFNldHRpbmcoY29udGFpbmVyRWwpO1xyXG5cdFx0bGV0IHNsaWRlckVsRGVzYyA9ICdIaWdoZXIgaXMgYmx1cnJpZXIuIERlZmF1bHQ9NjAsIGN1cnJlbnQ9JztcclxuXHRcdHNsaWRlckVsIFxyXG5cdFx0XHQuc2V0TmFtZSgnQmx1ciBMZXZlbCAob25seSBhZmZlY3RzIGVsZW1lbnRzIGZvciB3aGljaCBcIkJsdXJyeSBUZXh0XCIgaXMgc2VsZWN0ZWQgYmVsb3cpJylcclxuXHRcdFx0LnNldERlc2Moc2xpZGVyRWxEZXNjICsgTWF0aC5yb3VuZCh0aGlzLnBsdWdpbi5zZXR0aW5ncy5ibHVyTGV2ZWwqMTAwKSkgXHJcblx0XHRcdFx0XHRcdFx0XHRcdC8vIF4gbmVlZCByb3VuZGluZyB0byBub3Qgc2hvdyB2YWx1ZXMgbGlrZSAnNTUuMDAwMDAwMDAwMDAwMDEnXHJcblx0XHRcdC5hZGRTbGlkZXIoc2xpZGVyID0+IHNsaWRlclxyXG5cdFx0XHRcdC5zZXRMaW1pdHMoMC4xLCAxLjUsIDAuMDUpXHJcblx0XHRcdFx0LnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmJsdXJMZXZlbClcclxuXHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcblx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5ibHVyTGV2ZWwgPSB2YWx1ZTtcclxuXHRcdFx0XHRcdHNsaWRlckVsLnNldERlc2Moc2xpZGVyRWxEZXNjICsgTWF0aC5yb3VuZCh0aGlzLnBsdWdpbi5zZXR0aW5ncy5ibHVyTGV2ZWwqMTAwKSk7XHJcblx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5yZWZyZXNoKHRydWUpO1xyXG5cdFx0XHRcdH0pXHJcblx0XHRcdCk7XHJcblxyXG5cdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpXHJcblx0XHRcdC5zZXROYW1lKCdPYmZ1c2NhdGlvbiBtZXRob2QgZm9yIEVkaXQgTW9kZScpXHJcblx0XHRcdC5zZXREZXNjKCdIb3cgdG8gb2JmdXNjYXRlIHRoZSBkb2N1bWVudFxcJ3MgdGV4dCBpbiBFZGl0IE1vZGUnKVxyXG5cdFx0XHQuYWRkRHJvcGRvd24oZHJvcGRvd24gPT4gZHJvcGRvd25cclxuXHRcdFx0XHQuYWRkT3B0aW9uKCcnLCdbT2ZmXScpXHJcblx0XHRcdFx0LmFkZE9wdGlvbignYmx1ckVkaXQnLCdCbHVycnkgVGV4dCcpXHJcblx0XHRcdFx0LmFkZE9wdGlvbignYmxvY2tFZGl0JywnU29saWQgQmxvY2tzJylcclxuXHRcdFx0XHQuYWRkT3B0aW9uKCdjaXJjbGVzRWRpdCcsJ0NpcmNsZXMg4pqg77iPJylcclxuXHRcdFx0XHQuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MuZWRpdEJsdXJNZXRob2QpXHJcblx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuXHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5lZGl0Qmx1ck1ldGhvZCA9IHZhbHVlO1xyXG5cdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnJlZnJlc2godHJ1ZSk7XHJcblx0XHRcdH0pKTtcclxuXHJcblx0XHRuZXcgU2V0dGluZyhjb250YWluZXJFbClcclxuXHRcdC5zZXROYW1lKCdPYmZ1c2NhdGlvbiBtZXRob2QgZm9yIFByZXZpZXcgTW9kZScpXHJcblx0XHQuc2V0RGVzYygnSG93IHRvIG9iZnVzY2F0ZSB0aGUgZG9jdW1lbnRcXCdzIHRleHQgaW4gUHJldmlldyBNb2RlJylcclxuXHRcdC5hZGREcm9wZG93bihkcm9wZG93biA9PiBkcm9wZG93blxyXG5cdFx0XHQuYWRkT3B0aW9uKCcnLCdbT2ZmXScpXHJcblx0XHRcdC5hZGRPcHRpb24oJ2JsdXJQcmV2aWV3JywnQmx1cnJ5IFRleHQnKVxyXG5cdFx0XHQuYWRkT3B0aW9uKCdibG9ja1ByZXZpZXcnLCdTb2xpZCBCbG9ja3Mg4pqg77iPJylcclxuXHRcdFx0LmFkZE9wdGlvbignY2lyY2xlc1ByZXZpZXcnLCdDaXJjbGVzIOKaoO+4jycpXHJcblx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5wcmV2aWV3Qmx1ck1ldGhvZClcclxuXHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuXHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MucHJldmlld0JsdXJNZXRob2QgPSB2YWx1ZTtcclxuXHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4ucmVmcmVzaCh0cnVlKTtcclxuXHRcdH0pKTtcclxuXHJcblx0XHRuZXcgU2V0dGluZyhjb250YWluZXJFbClcclxuXHRcdFx0LnNldE5hbWUoJ09iZnVzY2F0aW9uIG1ldGhvZCBmb3IgU2lkZWJhcnMnKVxyXG5cdFx0XHQuc2V0RGVzYygnSG93IHRvIG9iZnVzY2F0ZSB5b3VyIGZpbGUgbGlzdCwgdGFncywgb3V0bGluZSwgZXRjIGluIE9ic2lkaWFuXFwncyBzaWRlYmFycycpXHJcblx0XHRcdC5hZGREcm9wZG93bihkcm9wZG93biA9PiBkcm9wZG93blxyXG5cdFx0XHRcdC5hZGRPcHRpb24oJycsJ1tPZmZdJylcclxuXHRcdFx0XHQuYWRkT3B0aW9uKCdibHVyVUknLCdCbHVycnkgVGV4dCcpXHJcblx0XHRcdFx0LmFkZE9wdGlvbignYmxvY2tVSScsJ1NvbGlkIEJsb2NrcycpXHJcblx0XHRcdFx0LmFkZE9wdGlvbignY2lyY2xlc1VJJywnQ2lyY2xlcycpXHJcblx0XHRcdFx0LnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLnVpQmx1ck1ldGhvZClcclxuXHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG5cdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLnVpQmx1ck1ldGhvZCA9IHZhbHVlO1xyXG5cdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnJlZnJlc2godHJ1ZSk7XHJcblx0XHR9KSk7ICBcclxuXHR9XHJcbiAgfVxyXG5cclxuY29uc3QgcHJpdmFjeUdsYXNzZXNJY29uID0gYDxwYXRoIHN0eWxlPVwiIHN0cm9rZTpub25lO2ZpbGwtcnVsZTpub256ZXJvO2ZpbGw6Y3VycmVudENvbG9yO2ZpbGwtb3BhY2l0eToxO1wiIGQ9XCJNIDE4LjI0MjE4OCA3LjY2NDA2MiBDIDE1LjQyOTY4OCA3Ljg0Mzc1IDEyLjAxNTYyNSA4LjQwNjI1IDYuOTE0MDYyIDkuNTMxMjUgQyA2LjE0MDYyNSA5LjcwMzEyNSA0LjMyODEyNSAxMC4wNzAzMTIgMi44OTA2MjUgMTAuMzU5Mzc1IEMgMS40NTMxMjUgMTAuNjQ4NDM4IDAuMjM0Mzc1IDEwLjg5MDYyNSAwLjE4NzUgMTAuOTA2MjUgQyAwLjA3MDMxMjUgMTAuOTI5Njg4IC0wLjAzOTA2MjUgMTMuNTU0Njg4IDAuMDIzNDM3NSAxNC41NzAzMTIgQyAwLjEyNSAxNi4xMzI4MTIgMC4zNzUgMTYuNzAzMTI1IDEuNSAxNy45OTIxODggQyAzLjQxNDA2MiAyMC4xODc1IDMuNzI2NTYyIDIwLjcxMDkzOCA0LjE3MTg3NSAyMi41MzkwNjIgQyA1LjE3MTg3NSAyNi42MDkzNzUgNi43NTc4MTIgMzEuMjI2NTYyIDguNDI5Njg4IDM0LjkxNDA2MiBDIDkuNDY4NzUgMzcuMjE4NzUgMTAuODU5Mzc1IDM4LjYyNSAxMy4zOTg0MzggMzkuOTI5Njg4IEMgMTcuNzI2NTYyIDQyLjE2NDA2MiAyMy4zODI4MTIgNDIuODk4NDM4IDI5LjQ1MzEyNSA0Mi4wMzEyNSBDIDMzLjE2NDA2MiA0MS40OTIxODggMzYuMTc5Njg4IDM5LjkzNzUgMzguODY3MTg4IDM3LjE3OTY4OCBDIDQwLjc4MTI1IDM1LjIxMDkzOCA0Mi4zMDQ2ODggMzIuOTc2NTYyIDQzLjk0NTMxMiAyOS43MjY1NjIgQyA0NC43ODEyNSAyOC4wNzgxMjUgNDUuMDMxMjUgMjcuNDA2MjUgNDUuNjY0MDYyIDI1LjAzOTA2MiBDIDQ2LjE3OTY4OCAyMy4xMjUgNDYuNDQ1MzEyIDIyLjMzNTkzOCA0Ni45MjE4NzUgMjEuMzY3MTg4IEMgNDcuNTkzNzUgMTkuOTY4NzUgNDggMTkuNjc5Njg4IDQ5LjMzNTkzOCAxOS42MjUgQyA0OS43NjU2MjUgMTkuNjA5Mzc1IDUwLjU5Mzc1IDE5LjYzMjgxMiA1MS4xNzE4NzUgMTkuNjcxODc1IEMgNTIuNDI5Njg4IDE5Ljc1NzgxMiA1Mi42NjQwNjIgMTkuODUxNTYyIDUzLjI4OTA2MiAyMC41MjM0MzggQyA1NC4xMDkzNzUgMjEuNDE0MDYyIDU0LjYyNSAyMi40OTIxODggNTUuMzA0Njg4IDI0Ljc1IEMgNTYuOTg0Mzc1IDMwLjM0Mzc1IDU5LjA5Mzc1IDM0LjIxODc1IDYxLjk2MDkzOCAzNi45OTIxODggQyA2My4zMjAzMTIgMzguMzA0Njg4IDY0LjM4MjgxMiAzOS4wNjI1IDY2LjAwNzgxMiAzOS44NzUgQyA2OS4xNzk2ODggNDEuNDY4NzUgNzIuNjc5Njg4IDQyLjI2NTYyNSA3Ni41MjM0MzggNDIuMjY1NjI1IEMgODMuNjMyODEyIDQyLjI2NTYyNSA4OS40ODQzNzUgMzkuMzIwMzEyIDkyLjQ2ODc1IDM0LjI0MjE4OCBDIDkzLjUzMTI1IDMyLjQ0NTMxMiA5NC4wOTM3NSAzMC44NTE1NjIgOTUuMjM0Mzc1IDI2LjQwNjI1IEMgOTYuNTcwMzEyIDIxLjIwMzEyNSA5Ni45MDYyNSAyMC4yMDMxMjUgOTcuNzM0Mzc1IDE4Ljk4NDM3NSBDIDk4LjA4NTkzOCAxOC40Njg3NSA5OC43MTg3NSAxNy44NjcxODggOTkuMjczNDM4IDE3LjUxNTYyNSBDIDk5Ljk2MDkzOCAxNy4wNzgxMjUgOTkuOTYwOTM4IDE3LjA4NTkzOCA5OS45NDUzMTIgMTQuMjE4NzUgQyA5OS45NDUzMTIgMTMuNTU0Njg4IDk5Ljk0NTMxMiAxMi43NDIxODggOTkuOTUzMTI1IDEyLjQyMTg3NSBDIDk5Ljk2ODc1IDExLjM0Mzc1IDk5LjYwOTM3NSAxMS4wMzkwNjIgOTcuOTQ1MzEyIDEwLjczNDM3NSBDIDk2LjYwOTM3NSAxMC40ODQzNzUgOTUuNjc5Njg4IDEwLjI2NTYyNSA5My40NzY1NjIgOS42NTYyNSBDIDkwLjkyMTg3NSA4Ljk0NTMxMiA5MC41MTU2MjUgOC44NTE1NjIgODguMzY3MTg4IDguNTE1NjI1IEMgODMuMDMxMjUgNy42NzE4NzUgODEuNjI1IDcuNTM5MDYyIDc4Ljc1NzgxMiA3LjYwMTU2MiBDIDc0Ljk0NTMxMiA3LjY4NzUgNzIuMzA0Njg4IDguMDYyNSA2NC40OTIxODggOS42MDkzNzUgQyA1OS4yMTg3NSAxMC42NTYyNSA1Ny4wMzEyNSAxMS4wMjM0MzggNTQuNTA3ODEyIDExLjI4OTA2MiBDIDUyLjU3MDMxMiAxMS40OTIxODggNTAuMTc5Njg4IDExLjU3MDMxMiA0OC40Njg3NSAxMS40ODQzNzUgQyA0NS40MDYyNSAxMS4zMzU5MzggNDMuOTE0MDYyIDExLjEwOTM3NSAzOS4yNTc4MTIgMTAuMDc4MTI1IEMgMzQuOTYwOTM4IDkuMTI1IDM0LjA5Mzc1IDguOTYwOTM4IDMxLjIwMzEyNSA4LjU1NDY4OCBDIDI1LjA2MjUgNy43MDMxMjUgMjEuNTIzNDM4IDcuNDYwOTM4IDE4LjI0MjE4OCA3LjY2NDA2MiBaIE0gMTguMjQyMTg4IDcuNjY0MDYyIFwiLz5gIl0sIm5hbWVzIjpbIlBsdWdpbiIsImFkZEljb24iLCJOb3RpY2UiLCJQbHVnaW5TZXR0aW5nVGFiIiwiU2V0dGluZyJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQXVEQTtBQUNPLFNBQVMsU0FBUyxDQUFDLE9BQU8sRUFBRSxVQUFVLEVBQUUsQ0FBQyxFQUFFLFNBQVMsRUFBRTtBQUM3RCxJQUFJLFNBQVMsS0FBSyxDQUFDLEtBQUssRUFBRSxFQUFFLE9BQU8sS0FBSyxZQUFZLENBQUMsR0FBRyxLQUFLLEdBQUcsSUFBSSxDQUFDLENBQUMsVUFBVSxPQUFPLEVBQUUsRUFBRSxPQUFPLENBQUMsS0FBSyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRTtBQUNoSCxJQUFJLE9BQU8sS0FBSyxDQUFDLEtBQUss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
